# 版本发布时间轴功能 - 产品需求文档 (PRD)

> **项目**: Radar Compare - 竞品能力对比可视化工具
> **功能**: 版本发布时间轴 (Version Release Timeline)
> **文档版本**: 1.0
> **创建日期**: 2026-01-10
> **状态**: 草案

---

## 1. 功能概述

### 1.1 背景

Radar Compare 是一款纯前端竞品能力对比可视化工具，现有功能包括：
- 多雷达图 Tab 切换
- 维度/子维度管理
- 多 Vendor 对比
- 时间轴雷达图对比
- 数据导入导出
- 国际化和主题切换

### 1.2 需求来源

用户需要在现有工具基础上增加**版本发布时间轴**功能，用于：
1. 监控自己或竞品的历史发展情况
2. 追踪版本发布节奏和重大更新
3. 可视化展示公司或产品的重要里程碑
4. 支持多 Tab 管理不同产品线的时间轴

### 1.3 产品定位

版本发布时间轴作为独立的**工具模式**，与雷达图对比工具并列，通过导航栏切换使用。

---

## 2. 核心用户场景

### 场景 1: 竞品版本监控

**用户故事**: 作为产品经理，我希望能够可视化对比自己和竞品的版本发布节奏，以便调整自己的发布计划。

**操作流程**:
1. 从导航栏切换到"时间轴"工具
2. 创建新的时间轴 Tab（如"2024 产品发布对比"）
3. 手动添加或批量导入版本事件
4. 在水平时间轴上查看事件分布
5. 识别竞品的发布密度和规律

---

### 场景 2: 公司发展历程展示

**用户故事**: 作为市场人员，我希望制作公司发展历程时间轴，用于官网展示或投资人汇报。

**操作流程**:
1. 创建时间轴 Tab（如"Ubiquiti 发展历程"）
2. 导入公司重大事件（成立、融资、产品发布等）
3. 为重要事件添加图标和高亮关键词
4. 导出为图片或 PDF 用于展示

---

### 场景 3: 多产品线版本管理

**用户故事**: 作为技术负责人，我希望在一个时间轴上管理多个产品线的版本计划。

**操作流程**:
1. 创建时间轴 Tab（如"2025 版本规划"）
2. 为每个产品线创建不同颜色的事件
3. 在时间轴上拖拽调整发布日期
4. 导出 Excel 与团队共享

---

## 3. 功能需求

### 3.1 核心功能（P0）

#### 3.1.1 时间轴可视化

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 水平时间轴 | 横向展示时间线，支持多年跨度 | P0 |
| 事件分布 | 事件自动在时间轴上下均匀分布 | P0 |
| 垂直错位 | 同年事件自动纵向偏移，避免重叠 | P0 |
| 年份标记 | 时间轴底部显示年份刻度 | P0 |
| 连接线 | 事件与时间轴之间的连接线 | P0 |

#### 3.1.2 事件管理

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 添加事件 | 手动添加单个版本事件 | P0 |
| 编辑事件 | 修改事件标题、描述、年份 | P0 |
| 删除事件 | 删除单个事件 | P0 |
| 事件类型 | major, minor, patch, milestone | P0 |
| 高亮关键词 | 支持在描述中高亮特定词汇 | P0 |

#### 3.1.3 事件属性

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| **年份** | 数字 | ✅ | 如 2024 |
| **标题** | 文本 | ✅ | 简短描述（最多 100 字） |
| **详细描述** | 多行文本 | ❌ | 详细说明 |
| **事件类型** | 枚举 | ✅ | major, minor, patch, milestone |
| **高亮词** | 字符串数组 | ❌ | 需要高亮的关键词 |
| **图标** | 字符串 | ❌ | 自定义图标（预留） |
| **位置** | 枚举 | 自动 | top 或 bottom（自动分配） |

#### 3.1.4 Tab 管理

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 创建 Tab | 创建新的时间轴 Tab | P0 |
| 重命名 Tab | 修改 Tab 名称 | P0 |
| 删除 Tab | 删除整个时间轴 Tab | P0 |
| 复制 Tab | 复制现有时间轴（含数据） | P1 |
| 拖拽排序 | 调整 Tab 顺序 | P1 |

#### 3.1.5 导入导出

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| Excel 导入 | 从 Excel 批量导入事件 | P0 |
| Excel 导出 | 导出为 Excel（包含所有事件） | P0 |
| JSON 导入 | 从 JSON 导入时间轴数据 | P0 |
| JSON 导出 | 导出完整的时间轴 JSON | P0 |
| Excel 模板下载 | 提供标准模板 | P0 |

---

### 3.2 增强功能（P1）

| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 垂直布局 | 支持垂直方向的时间轴 | P1 |
| 布局切换 | 一键切换水平/垂直布局 | P1 |
| 事件筛选 | 按类型、年份范围筛选事件 | P1 |
| 关键词搜索 | 搜索标题或描述 | P1 |
| 图标库 | 内置常用图标（发布、融资等） | P1 |
| 导出图片 | 导出为 PNG/SVG | P2 |
| 多产品线 | 支持按产品线分组显示 | P2 |

---

### 3.3 非功能需求

#### 3.3.1 性能要求

- **事件数量**: 支持 100+ 事件流畅渲染
- **加载时间**: 首次加载 < 1 秒
- **交互延迟**: UI 响应 < 100ms

#### 3.3.2 兼容性要求

- **浏览器**: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **屏幕**: 支持 1280px 以上桌面端（移动端优先级低）

#### 3.3.3 架构要求

- **文件行数**: 单文件不超过 400 行 (TypeScript/React)
- **模块化**: 组件职责单一，易于维护
- **复用性**: 最大化复用现有组件和工具

---

## 4. UI/UX 设计要点

### 4.1 水平布局示例

```
┌────────────────────────────────────────────────────────────┐
│  Logo  |  版本时间轴  [+ 新建]  [导入]  [导出]              │
├────────────────────────────────────────────────────────────┤
│                                                             │
│          ┌──────────────┐                                  │
│          │ Ubiquiti     │     [主题] [语言]                │
│          │ 2003-2020    │                                  │
│          └──────────────┘                                  │
│                                                             │
│  ●───────────●──────────●─────────────●──────────────►     │
│ 2003       2005        2010          2015           2020   │
│                                                             │
│  Founded   UniFi       Cloud Key    EdgeRouter      ...    │
│            launched                 X launched             │
└────────────────────────────────────────────────────────────┘
```

### 4.2 事件卡片设计

**正常状态**:
```
┌─────────────────────┐
│ UniFi 发布          │  ← 标题（粗体）
│ 首个统一网络管理... │  ← 描述（截断）
└─────────────────────┘
```

**悬停展开**:
```
┌─────────────────────────────────────┐
│ UniFi 发布                          │
│ 首个统一网络管理平台，整合无线AP、  │
│ 交换机、网关等设备的配置与监控。    │
│ 核心产品线之一。                    │
└─────────────────────────────────────┘
```

**视觉细节**:
- 卡片边框: 1px 实线，浅色
- 圆角: 4px
- 内边距: 14px 18px
- 最大高度: 120px（超出显示...）
- 悬停: 边框变蓝、轻微上移、展开完整内容
- 底部渐变遮罩: 30px 高度，提示有更多内容

---

## 5. 数据模型

### 5.1 核心类型定义

```typescript
// 事件类型
export type VersionEventType =
  | 'major'        // 重大版本
  | 'minor'        // 次要版本
  | 'patch'        // 补丁版本
  | 'milestone'    // 里程碑

// 版本事件
export interface VersionEvent {
  id: string
  year: number                     // 年份
  title: string                    // 事件标题
  description?: string             // 详细描述
  type: VersionEventType
  position: 'top' | 'bottom'       // 上下位置（自动分配）
  highlight?: string[]             // 高亮关键词
  icon?: string                    // 自定义图标
  order: number                    // 同年内的排序
}

// 时间轴数据
export interface TimelineData {
  info: {
    title: string                  // 时间轴标题
    logo?: string                  // Logo 图片路径
    startYear?: number             // 起始年份
    endYear?: number               // 结束年份
  }
  events: VersionEvent[]
}

// 时间轴 Tab（存储在项目中）
export interface VersionTimelineTab {
  id: string
  name: string
  order: number
  isVersionTimeline: true          // 类型标识符
  data: TimelineData
  createdAt: number
  updatedAt: number
}
```

---

## 6. 成功指标

### 6.1 功能完整性

- [x] 实现 P0 功能 100%
- [ ] 实现 P1 功能 50%+

### 6.2 用户满意度

- 内部测试满意度 ≥ 4.5/5

### 6.3 性能达标

- 100 事件加载 < 1s
- UI 响应延迟 < 100ms

### 6.4 质量指标

- 无重大 Bug
- 通过所有核心场景测试

---

## 7. 开发里程碑

| 阶段 | 时间 | 主要任务 | 产出 |
|------|------|----------|------|
| Phase 1 | Week 1 | 基础架构、类型定义、UI Store | 数据模型和状态管理 |
| Phase 2 | Week 2 | 时间轴组件、事件卡片、布局算法 | 基础可视化功能 |
| Phase 3 | Week 3 | Tab 管理、导航栏改造 | 多 Tab 切换 |
| Phase 4 | Week 4 | 导入导出、国际化 | 数据流转完整 |
| Phase 5 | Week 5 | 测试、优化、文档 | 发布就绪 |

---

## 8. 附录

### 8.1 Excel 模板格式

| 年份 | 标题 | 描述 | 类型 | 高亮关键词 |
|------|------|------|------|------------|
| 2003 | Ubiquiti 成立 | 在硅谷创立... | milestone | 成立,硅谷 |
| 2005 | UniFi 发布 | 首个统一... | major | UniFi,统一管理 |

### 8.2 JSON 格式示例

```json
{
  "id": "timeline_1",
  "name": "Ubiquiti 发展历程",
  "isVersionTimeline": true,
  "data": {
    "info": {
      "title": "Ubiquiti Networks",
      "startYear": 2003,
      "endYear": 2020
    },
    "events": [
      {
        "id": "evt_1",
        "year": 2003,
        "title": "Ubiquiti 成立",
        "description": "在硅谷创立，专注于无线通信技术。",
        "type": "milestone",
        "position": "top",
        "highlight": ["成立", "硅谷"],
        "order": 0
      }
    ]
  }
}
```

---

## 9. 参考资料

- [Ubiquiti 官方时间轴](https://www.ui.com/about)（设计参考）
- [Ant Design Timeline](https://ant.design/components/timeline/)
- [ECharts 时间轴组件](https://echarts.apache.org/en/option.html#timeline)

---

**文档状态**: ✅ 完成
**最后更新**: 2026-01-10
**维护者**: 产品团队
