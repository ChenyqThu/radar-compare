# 产品需求文档 (PRD)

## Radar Compare - 竞品能力对比可视化工具

**版本**: 1.0.0
**更新日期**: 2025-01-09
**产品负责人**: -

---

## 1. 产品概述

### 1.1 产品背景

在产品竞争分析中，需要一个直观的工具来比较多个竞品在不同能力维度上的表现。传统的表格对比方式难以直观展示差异，而雷达图可以清晰地展示多维度数据的分布情况。

### 1.2 产品定位

Radar Compare 是一款纯前端的竞品能力对比可视化工具，通过雷达图直观展示多个对比对象在各个维度上的评分对比，帮助用户快速理解产品竞争态势。

### 1.3 目标用户

- 产品经理：进行竞品分析
- 市场分析师：制作竞争力分析报告
- 技术评审人员：对比技术方案
- 项目管理者：评估多个方案的优劣

### 1.4 核心价值

- **直观可视化**：通过雷达图清晰展示多维度对比结果
- **灵活配置**：支持自定义维度、子维度和权重
- **便捷操作**：拖拽排序、内联编辑，操作流畅
- **数据安全**：纯前端应用，数据本地存储，无隐私风险

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 雷达图展示

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 雷达图渲染 | 使用 ECharts 渲染多边形雷达图 | P0 |
| 多系列对比 | 支持同时展示多个对比对象的数据 | P0 |
| 图例交互 | 点击图例可显示/隐藏对应系列 | P1 |
| 渐变填充 | 雷达区域使用径向渐变效果 | P2 |
| 双雷达布局 | 有子维度时自动启用双雷达图布局 | P1 |

#### 2.1.2 维度管理

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 添加维度 | 支持添加主维度 | P0 |
| 添加子维度 | 支持在主维度下添加子维度 | P0 |
| 编辑维度 | 支持编辑维度名称 | P0 |
| 删除维度 | 支持删除维度及其子维度 | P0 |
| 权重设置 | 支持为每个维度设置权重 (0-100) | P0 |
| 评分设置 | 支持为每个维度/系列设置评分 (0-10) | P0 |
| 拖拽排序 | 支持拖拽调整维度顺序 | P1 |
| 高级拖拽 | 子维度可提升/降级，可跨父级移动 | P2 |
| 旭日图 | 展示维度权重结构可视化 | P2 |

#### 2.1.3 系列管理

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 添加系列 | 支持添加对比对象 | P0 |
| 编辑系列 | 支持编辑系列名称 | P0 |
| 删除系列 | 支持删除系列 | P0 |
| 颜色设置 | 支持为每个系列设置颜色 | P1 |
| 标记设置 | 支持为每个系列设置标记形状 | P2 |
| 显示控制 | 支持控制系列显示/隐藏 | P1 |
| 拖拽排序 | 支持拖拽调整系列顺序 | P1 |

#### 2.1.4 多图表管理

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| Tab 切换 | 支持多个雷达图 Tab 切换 | P0 |
| 新建图表 | 支持新建雷达图 | P0 |
| 重命名 | 支持重命名雷达图 | P1 |
| 复制 | 支持复制雷达图 | P2 |
| 删除 | 支持删除雷达图 | P1 |

#### 2.1.5 数据导入导出

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 导出 Excel | 导出当前雷达图数据为 Excel | P1 |
| 导出 JSON | 导出完整项目数据为 JSON | P1 |
| 导入 Excel | 从 Excel 导入雷达图数据 | P1 |
| 导入 JSON | 从 JSON 导入项目数据 | P1 |
| 模板下载 | 提供 Excel 导入模板 | P2 |

### 2.2 辅助功能

#### 2.2.1 国际化

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 中文支持 | 支持中文界面 | P0 |
| 英文支持 | 支持英文界面 | P1 |
| 语言切换 | 支持实时切换语言 | P1 |
| 语言持久化 | 记住用户语言偏好 | P2 |

#### 2.2.2 主题

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 浅色主题 | 支持浅色主题 | P0 |
| 深色主题 | 支持深色主题 | P1 |
| 主题切换 | 支持实时切换主题 | P1 |
| 跟随系统 | 首次加载跟随系统主题 | P2 |

#### 2.2.3 数据持久化

| 功能项 | 描述 | 优先级 |
|--------|------|--------|
| 自动保存 | 数据变更自动保存 | P0 |
| 本地存储 | 使用 IndexedDB 本地存储 | P0 |
| 防抖保存 | 500ms 防抖避免频繁写入 | P1 |

---

## 3. 非功能需求

### 3.1 性能需求

| 指标 | 要求 |
|------|------|
| 首屏加载 | < 2s (生产环境) |
| 交互响应 | < 100ms |
| 雷达图渲染 | < 500ms |
| 内存占用 | < 100MB (正常使用) |

### 3.2 兼容性需求

| 浏览器 | 最低版本 |
|--------|----------|
| Chrome | 90+ |
| Firefox | 88+ |
| Safari | 14+ |
| Edge | 90+ |

### 3.3 安全需求

- 纯前端应用，无服务端交互
- 数据仅存储在用户本地浏览器
- 不收集任何用户数据

---

## 4. 分数计算规则

### 4.1 评分规则

- 评分范围：0-10 整数
- 无评分时默认为 0

### 4.2 维度分数计算

```
如果无子维度:
  维度分数 = 直接评分

如果有子维度:
  维度分数 = Σ(子维度分数 × 子维度权重) / Σ子维度权重
```

### 4.3 总分计算

```
总分 = Σ(维度分数 × 维度权重) / Σ维度权重
```

---

## 5. 用户交互规范

### 5.1 设置抽屉

- 默认宽度：600px
- 可调整范围：480-900px
- 触发方式：点击右下角浮动按钮或按 `S` 键

### 5.2 维度/系列表格

- 添加入口：表格底部虚线框按钮
- 编辑方式：行内编辑
- 删除确认：弹出确认框
- 拖拽手柄：hover 时显示

### 5.3 颜色选择器

- PowerPoint 风格调色板
- 5 行 × 10 列预设颜色
- 从浅色到深色渐变

### 5.4 标记选择器

- 可视化 SVG 图标展示
- 支持 7 种形状：circle, rect, roundRect, triangle, diamond, pin, arrow

---

## 6. 版本规划

### v1.0.0 (当前版本)

- [x] 雷达图基础功能
- [x] 维度/子维度管理
- [x] 系列管理
- [x] 多图表 Tab 管理
- [x] 数据导入导出
- [x] 国际化支持
- [x] 深色主题支持

### v1.1.0 (规划中)

- [ ] 图表图片导出 (PNG/SVG)
- [ ] 更多图表类型（柱状图对比）
- [ ] 数据对比分析报告
- [ ] 快捷键支持增强

### v1.2.0 (规划中)

- [ ] 协作功能（需后端支持）
- [ ] 数据同步云端
- [ ] 分享功能
